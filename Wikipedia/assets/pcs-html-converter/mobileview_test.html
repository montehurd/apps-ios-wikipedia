<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <script src="build/Polyfill.js"></script>
        <script src="build/PCSHTMLConverter.js"></script>
    </head>
    <body>
        <pre id="mobileHTML"></pre>
        <script>
          // function handleMobileHTML(mobileHTML) {
          //   document.getElementById("mobileHTML").innerText = mobileHTML
          // }
          // PCSHTMLConverter.testMobileView().then(handleMobileHTML)


          function handleMobileHTML(mobileHTML) {
            window.webkit.messageHandlers.WebViewControllerMessageHandler.postMessage(
              {
                "type": "outerHTML",
                "outerHTML": mobileHTML
              }
            )
          }

          function test321(){
            PCSHTMLConverter.testMobileView().then(handleMobileHTML)
          }



const handle = setInterval(()=>{
  window.webkit.messageHandlers.WebViewControllerMessageHandler.postMessage(
    {
      "hello": "there"
    }
  )
}, 1000);

function stop123(){
  window.clearInterval(handle)
}



// async function tester(){ var handler = mobileHTML => { console.log(mobileHTML) }; var bla = await PCSHTMLConverter.testMobileView().then(handler) }; tester();




        </script>
    </body>
</html>
